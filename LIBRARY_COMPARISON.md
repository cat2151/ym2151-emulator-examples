# YM2151エミュレータライブラリ 比較表

このドキュメントは、各プログラミング言語で利用可能なYM2151エミュレータライブラリを比較・評価したものです。

## 📊 総合比較表

| ライブラリ | 言語 | ライセンス | Stars | メンテナンス | Rust適合度 | Go適合度 | TS適合度 | Python適合度 |
|-----------|------|-----------|-------|--------------|------------|----------|----------|--------------|
| **libymfm.wasm** | Rust/WASM | BSD-3 | ⭐ 59 | ✅ Active | ⭐⭐⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐ |
| **ymfm** | C++ | BSD-3 | ⭐ 309 | ✅ Active | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ |
| **Nuked-OPM** | C | LGPL-2.1 | ⭐ 83 | ✅ Active | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ |

## 🔍 各ライブラリ詳細

### 1. libymfm.wasm ⭐⭐⭐⭐⭐

**概要**: ymfmのWebAssemblyビルド版

#### 基本情報
- **リポジトリ**: https://github.com/h1romas4/libymfm.wasm
- **言語**: Rust (WebAssembly)
- **ライセンス**: BSD-3-Clause ✅
- **Stars**: 59 ⭐
- **最終更新**: 2025年10月 ✅
- **メンテナンス状況**: アクティブ ✅

#### 対応チップ
- YM2151 (OPM) ✅
- YM2203 (OPN)
- YM2612 (OPN2)
- YM2149 (PSG)

#### 言語別適合度

##### Rust: ⭐⭐⭐⭐⭐ (5/5) - 最推奨
✅ **メリット**
- Rustネイティブで統合が簡単
- Cargo.tomlに追加するだけで使用可能
- 型安全性が保証される
- 追加のビルドツール不要

❌ **デメリット**
- WebAssemblyのオーバーヘッド（実用上は問題なし）

**セットアップの容易さ**: ⭐⭐⭐⭐⭐
```toml
[dependencies]
libymfm-wasm = "0.1"
```

##### TypeScript/Deno: ⭐⭐⭐⭐⭐ (5/5) - 最推奨
✅ **メリット**
- npm/denoで簡単にインストール可能
- Web Audio APIと相性抜群
- ブラウザでもNode.jsでも動作
- 型定義が含まれている

❌ **デメリット**
- 特になし

**セットアップの容易さ**: ⭐⭐⭐⭐⭐
```bash
npm install libymfm-wasm
# または
deno add npm:libymfm-wasm
```

##### Python: ⭐⭐ (2/5) - あまり推奨しない
✅ **メリット**
- wasmerなどのWASMランタイム経由で使用可能

❌ **デメリット**
- WASMランタイムの追加インストールが必要
- PythonネイティブなAPIではない
- オーバーヘッドが大きい

**セットアップの容易さ**: ⭐⭐

##### Go: ⭐⭐ (2/5) - あまり推奨しない
✅ **メリット**
- WASMランタイム経由で使用可能

❌ **デメリット**
- WASMランタイムの追加インストールが必要
- GoネイティブなAPIではない

**セットアップの容易さ**: ⭐⭐

---

### 2. ymfm ⭐⭐⭐⭐⭐

**概要**: BSD-licensed Yamaha FM sound cores library

#### 基本情報
- **リポジトリ**: https://github.com/aaronsgiles/ymfm
- **言語**: C++
- **ライセンス**: BSD-3-Clause ✅
- **Stars**: 309 ⭐⭐⭐
- **最終更新**: 2025年10月 ✅
- **メンテナンス状況**: アクティブ ✅

#### 対応チップ
- YM2151 (OPM) ✅
- YM2203 (OPN)
- YM2413 (OPLL)
- YM2608 (OPNA)
- YM2610 (OPNB)
- YM2612 (OPN2)
- YM3526 (OPL)
- その他多数

#### 言語別適合度

##### Go: ⭐⭐⭐⭐⭐ (5/5) - 最推奨
✅ **メリット**
- CGO経由でC++コードを直接呼び出せる
- 複数のFMチップをサポート
- 商用利用OKなBSDライセンス
- ドキュメントが充実

❌ **デメリット**
- CGOのセットアップが必要
- C++コンパイラが必要

**セットアップの容易さ**: ⭐⭐⭐

##### Rust: ⭐⭐⭐⭐ (4/5) - 推奨
✅ **メリット**
- bindgenでRustバインディングを生成可能
- 直接C++コードを呼び出せる

❌ **デメリット**
- bindgenのセットアップが必要
- C++コンパイラが必要

**セットアップの容易さ**: ⭐⭐⭐

##### Python: ⭐⭐⭐⭐ (4/5) - 推奨
✅ **メリット**
- pybind11でPythonバインディングを作成可能
- ctypesでも使用可能

❌ **デメリット**
- バインディングの作成が必要
- C++コンパイラが必要

**セットアップの容易さ**: ⭐⭐⭐

##### TypeScript: ⭐⭐⭐ (3/5) - 条件付き推奨
✅ **メリット**
- EmscriptenでWebAssemblyにコンパイル可能

❌ **デメリット**
- Emscriptenのセットアップが複雑
- 自前でWASMビルドが必要

**セットアップの容易さ**: ⭐⭐

---

### 3. Nuked-OPM ⭐⭐⭐⭐⭐

**概要**: Cycle-accurate Yamaha YM2151 emulator

#### 基本情報
- **リポジトリ**: https://github.com/nukeykt/Nuked-OPM
- **言語**: C
- **ライセンス**: LGPL-2.1 ⚠️ (商用利用に注意)
- **Stars**: 83 ⭐
- **最終更新**: 2025年10月 ✅
- **メンテナンス状況**: アクティブ ✅

#### 対応チップ
- YM2151 (OPM) のみ ✅

#### 特徴
- **サイクル精度**: 非常に高い（実機との互換性が高い）
- **シンプル**: YM2151専用で実装がシンプル
- **軽量**: 依存関係が少ない

#### 言語別適合度

##### Python: ⭐⭐⭐⭐⭐ (5/5) - 最推奨
✅ **メリット**
- ctypesで簡単に使用可能（標準ライブラリ）
- Cライブラリなのでバインディングが簡単
- シンプルなAPI

❌ **デメリット**
- 事前にCライブラリのコンパイルが必要
- LGPLライセンス（商用利用時は注意）

**セットアップの容易さ**: ⭐⭐⭐⭐

##### Go: ⭐⭐⭐⭐⭐ (5/5) - 最推奨
✅ **メリット**
- CGO経由で直接呼び出し可能
- シンプルなCのAPIで統合しやすい
- サイクル精度が高い

❌ **デメリット**
- CGOのセットアップが必要
- LGPLライセンス（商用利用時は注意）

**セットアップの容易さ**: ⭐⭐⭐

##### Rust: ⭐⭐⭐⭐ (4/5) - 推奨
✅ **メリット**
- bindgenでRustバインディングを生成可能
- FFI経由で直接呼び出し可能

❌ **デメリット**
- bindgenのセットアップが必要
- LGPLライセンス（商用利用時は注意）

**セットアップの容易さ**: ⭐⭐⭐

##### TypeScript: ⭐⭐⭐ (3/5) - 条件付き推奨
✅ **メリット**
- EmscriptenでWebAssemblyにコンパイル可能
- サイクル精度が高い

❌ **デメリット**
- Emscriptenのセットアップが必要
- LGPLライセンス（商用利用時は注意）

**セットアップの容易さ**: ⭐⭐

---

## 🎯 推奨ライブラリ（言語別）

### Rust
1. **libymfm.wasm** ⭐⭐⭐⭐⭐ (最推奨)
   - 理由: Cargo完結、環境構築が最も簡単
2. **Nuked-OPM** ⭐⭐⭐⭐
   - 理由: サイクル精度が高い
3. **ymfm** ⭐⭐⭐⭐
   - 理由: 複数チップサポート

### Go
1. **Nuked-OPM** ⭐⭐⭐⭐⭐ (最推奨)
   - 理由: CGOで統合しやすい、サイクル精度が高い
2. **ymfm** ⭐⭐⭐⭐⭐
   - 理由: 複数チップサポート、BSDライセンス

### TypeScript/Deno
1. **libymfm.wasm** ⭐⭐⭐⭐⭐ (最推奨)
   - 理由: npm/deno完結、Web Audio APIと相性抜群
2. **Nuked-OPM (Emscripten)** ⭐⭐⭐
   - 理由: サイクル精度が高い（セットアップが複雑）

### Python
1. **Nuked-OPM + ctypes** ⭐⭐⭐⭐⭐ (最推奨)
   - 理由: ctypesは標準ライブラリ、セットアップが簡単
2. **ymfm + pybind11** ⭐⭐⭐⭐
   - 理由: 複数チップサポート、BSDライセンス

---

## 📋 ライセンス比較

| ライブラリ | ライセンス | 商用利用 | 派生物の公開義務 | 推奨度 |
|-----------|-----------|---------|---------------|-------|
| **libymfm.wasm** | BSD-3-Clause | ✅ OK | ❌ なし | ⭐⭐⭐⭐⭐ |
| **ymfm** | BSD-3-Clause | ✅ OK | ❌ なし | ⭐⭐⭐⭐⭐ |
| **Nuked-OPM** | LGPL-2.1 | ⚠️ 条件付き | ✅ あり | ⭐⭐⭐ |

### ライセンス注意事項

#### BSD-3-Clause (libymfm.wasm, ymfm) ✅
- 商用利用: ✅ 完全OK
- ソースコード公開: ❌ 不要
- 派生物への制限: ❌ ほぼなし
- **推奨**: 商用プロジェクトに最適

#### LGPL-2.1 (Nuked-OPM) ⚠️
- 商用利用: ⚠️ 条件付きOK
- ソースコード公開: ✅ 必要（ライブラリ部分のみ）
- 派生物への制限: ✅ あり
- **注意**: 商用利用時は動的リンクを使用するか、ソースコード公開が必要

---

## 🚀 環境構築の容易さランキング

### 総合ランキング（言語問わず）

1. **⭐⭐⭐⭐⭐ Rust + libymfm.wasm**
   - `cargo add libymfm-wasm` だけで完了
   
2. **⭐⭐⭐⭐⭐ TypeScript + libymfm.wasm**
   - `npm install libymfm-wasm` だけで完了
   
3. **⭐⭐⭐⭐ Python + Nuked-OPM**
   - Cライブラリのコンパイルが必要だが、その後はシンプル
   
4. **⭐⭐⭐ Go + Nuked-OPM**
   - CGOのセットアップが必要
   
5. **⭐⭐⭐ Go + ymfm**
   - C++コンパイラとCGOのセットアップが必要

---

## 💡 推奨する組み合わせ

### 最優先実装（環境構築が簡単）
1. **Rust + libymfm.wasm** ⭐⭐⭐⭐⭐
2. **TypeScript/Deno + libymfm.wasm** ⭐⭐⭐⭐⭐

### 追加実装（ライブラリの多様性）
3. **Python + Nuked-OPM** ⭐⭐⭐⭐
4. **Go + ymfm** ⭐⭐⭐⭐

この組み合わせにより：
- ✅ 環境構築が簡単な実装（Rust, TypeScript）
- ✅ 異なるライブラリの使用例（libymfm.wasm, Nuked-OPM, ymfm）
- ✅ 各言語の特性を活かした実装
- ✅ ライセンスの多様性（BSD, LGPL）

を提供できます。
